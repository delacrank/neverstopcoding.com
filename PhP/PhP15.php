<!DOCTYPE html>
<html>
<head><meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html;
	charset=utf-8" />
<title>Working with Directories - PhP Programming</title>
<link href='http://fonts.googleapis.com/css?family=Varela+Round' rel="stylesheet"><link href='http://fonts.googleapis.com/css?family=Cormorant+Infant' rel="stylesheet"><link rel="stylesheet"
      type="text/css"
      href="../testcss.css">
</head>     
<body>
    
 <!-- Header -->
<?php include('..//Includes//header.php'); ?>

<!-- Navigation -->
<?php include('..//Includes//nav.php'); ?>
    
<!-- Navigation2 -->
<?php include('..//Includes//nav2.php'); ?>    
    
<!-- Left --><div class = "mainWrapper">
<?php include('..//Includes//Left_PhP.php'); ?>

<!-- Right -->
<div id ="rightz"> 
 
<h1>Working with Directories - PhP Programming</h1>    
    
<h2>Working with Directories</h2>
    
<p>We learned how to use files in order to store and access information from our website.  However, there will be times when we need to access a file in a different folder or directory.</p>
 
<hr />

<!-- open dir -->
<h3>Using the opendir() function</h3>
    
    <p>The open directory function allows you to store a directory handle in a variable.  The function similar to our open file function works like a pointer and will provide our computer a location for the folder we wish to access. Let's see an example of this below.</p>
    
    <em>Code:</em>
    <!-- code -->
    <pre class="code">
    $directoryHandle = opendir("/Applications/XAMPP/xamppfiles/htdocs/PhP/sample/");</pre>

<br />
<hr />
    
<!-- Read dir -->
<h3>Using the readdir() function</h3>
    
    <p>Once we have opened the directory we want to use, all we need to do is use our readdir() function in order to gather the files we want to access from that folder/directory.</p>
    
    <em>Code:</em>
    <!-- code -->
    <pre class="code">
    $dp = opendir("/Applications/XAMPP/xamppfiles/htdocs/PhP/sample/");
    $currentFile = "";
    while( $currentFile !== false ) {
        $currentFile = readDir ($dp);
        $filesArray[] = $currentFile;
    }    
    print_r($filesArray);</pre>
    
<br />
<hr />
<!-- Change directory -->
<h3>Using the chdir() function</h3>
    
    <p>Let's say you want to change the directory you are currently using.  You have already opened a directory but now you want to use a different one, let's say you want to move up or down a folder.  For this you can use the change directory function.
        
    <span class = "nl">There is also the closedir() function which closes the current directory and the getcwd() function, which will return the current working directory.</span></p>

    <em>Code:</em>
    <!-- code -->
    <pre class="code">
    chdir("/Applications/XAMPP/xamppfiles/htdocs/PhP/sample2/");</pre>
<br />
<hr />
    
<!-- generating a list of file links -->
<h3>Generating a list of file links</h3>
    
    <p>The readdir() function allows us to read the files in a directory, while the opendir() function creates a connection for us to that directory.  If we combine both these functions we can create a list of all the available files in a directory.</p>
    
    <em>Code:</em>    
    <!-- code -->
    <pre class="code">
    &lt;?php
        $dp = opendir("/Applications/XAMPP/xamppfiles/htdocs/PhP/sample");
        while( $currentFile !== false ) {
            $currentFile = readDir ($dp);
            $filesArray[] = $currentFile;
        }

        $output = "";
        foreach($filesArray as $aFile) {
            $output .= "&lt;a href=\"sample/$aFile\">$aFile&lt;/a>&lt;br />";
        }
        print "&lt;p>$output&lt;/p>";
    ?></pre>    
    
<hr />
    
<!-- using a filter -->
<h3>Using a filter for our directory</h3>
    
    <p>There is another command which will allow you to choose only files with the characters selected.  This is called the preg_grep function and it takes two parameters, the first parameters takes in characters in the form of regex (regular expressions), the second parameter is the array of the complete directory.</p>
    
    <em>Code:</em>    
    <!-- code -->
    <pre class="code">
    $filesArray = preg_grep("/txt$|dat$/", $filesArray);</pre>    
    
<br />    
<hr />

<a href ="PhP14.html">Previous Page</a><span class ="next"><a href = "PhP16.html">Next Page</a></span>
<br /><br />
</div>
</div><!-- Footer -->
<?php include('..//Includes//footer.php'); ?>
</body>
</html>   